<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no" />
  <title>Maria & Elias Wedding</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div id="app">
    <section class="page" id="page1">
        <div class="content">
          <div class="text-container">
            
            {% if name.startswith('Dr. & Mrs.') %}
              <div class="title-line">Dr. &amp; Mrs.</div>
              <div class="guest_name">{{ name[11:] | trim }}</div>
            
            {% elif name.startswith('Drs.') %}
              <div class="title-line">Drs.</div>
              <div class="guest_name">{{ name[5:] | trim }}</div>

            {% elif 'Dr.' in name %}
              <div class="title-line"></div>
              <div class="guest_name">{{ name }}</div>

            {% elif name.startswith('Mr. & Mrs.') %}
              <div class="title-line">Mr. &amp; Mrs.</div>
              <div class="guest_name">{{ name[11:] | trim }}</div>

            {% elif name.startswith('Mr.') %}
              <div class="title-line">Mr.</div>
              <div class="guest_name">{{ name[4:] | trim }}</div>

            {% elif name.startswith('Mrs.') %}
              <div class="title-line">Mrs.</div>
              <div class="guest_name">{{ name[5:] | trim }}</div>

            {% elif name.startswith('Ms.') %}
              <div class="title-line">Ms.</div>
              <div class="guest_name">{{ name[4:] | trim }}</div>

            {% else %}
              <div class="title-line"></div>
              <div class="guest_name">{{ name }}</div>
            {% endif %}

          </div>
        </div>
        <div class="footer">
          <p style="font-family:myFirstFont">Swipe Left</p>
          <div class="arrow">←</div>
          <div class="dots">
            <span class="dot active"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
          </div>
        </div>
      </section>
      
      <section class="page" id="page2">
        <div class="content overlay-text">
          <div class="text-container">
            <div class="line" style="font-family: myFirstFont; font-size: 0.8rem; padding-bottom: 1em;">
              WITH JOYOUS HEARTS,
            </div>
            <div class="line" style="font-family: myFirstFont; padding-bottom: 0.5em;">
              NAKHOUL &amp; DINA FAMILIES 
            </div>
            <div class="line" style="font-family: myFirstFont; padding-bottom: 2em;">
              INVITE YOU TO THE WEDDING OF
            </div>
            <div class="line" style="font-family: MonsieurLaDoulaise; font-size: 3em; padding-bottom: 0.4em;">
              Elias &amp; Maria
            </div>
            <div class="line" style="font-family: myFirstFont;">
              ON AUGUST 16<sup>th</sup>, 2025
            </div>
          </div>
        </div>
        <div class="footer">
          <p style="font-family:myFirstFont">Swipe Left</p>
          <div class="arrow">←</div>
          <div class="dots">
            <span class="dot"></span>
            <span class="dot active"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
          </div>
        </div>
      </section>

      <section class="page" id="page3">
        <div class="content overlay-text">
          <div class="text-container">
            
            <!-- Wedding Ceremony -->
            <div class="line" style="font-family: MonsieurLaDoulaise; font-size: 2.5em; padding-bottom: 1em;">
              Wedding Ceremony
            </div>
            <div class="line" style="font-family: myFirstFont; padding-bottom: 0.5em;">
              SAINT ELIAS 
             </div>
             <div class="line" style="font-family: myFirstFont; font-size: 0.9rem; padding-bottom: 0.5em;">
               GREEK ORTHODOX CHURCH 
             </div>
             <div class="line" style="font-family: myFirstFont; padding-bottom: 0.5em;">
              MTAYLEB
             </div>
             <div class="line" style="font-family: myFirstFont; padding-bottom: 1em;">
              AT 5:30pm
             </div>
            <button class="location-button" style="font-family: myFirstFont; font-size: 0.9rem;" onclick="showMap('ceremony')">
              <i>Church Directions</i></button>

            <br>
      
            <div style="height: 2em;"></div> <!-- Spacer -->
      
            <!-- Dinner -->
            <div class="line" style="font-family: MonsieurLaDoulaise; font-size: 2.5em; padding-bottom: 1em;">
              Dinner
            </div>
            <div class="line" style="font-family: myFirstFont; padding-bottom: 0.5em;">
              KYRA VENUE
            </div>
            <div class="line" style="font-family: myFirstFont; padding-bottom: 1em;">
              RAYFOUN
            </div>
            <button class="location-button" style="font-family: myFirstFont; font-size: 0.9rem;" onclick="showMap('dinner')"><i>Venue Directions</i></button>
      
          </div>
        </div>
      
        <div class="footer">
          <p style="font-family:myFirstFont">Swipe Left</p>
          <div class="arrow">←</div>
          <div class="dots">
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot active"></span>
            <span class="dot"></span>
            <span class="dot"></span>
          </div>
        </div>
      </section>
      
      <section class="page" id="page4">
        <div class="content overlay-text">
          <div class="text-container">
      
            <!-- Title -->
            <div class="line" style="font-family: MonsieurLaDoulaise; font-size: 2.8em; padding-bottom: 0.5em;">
              Wedding Registry
            </div>
      
            <!-- Intro text -->
            <div class="line" style="font-family: myFirstFont; font-size: 1em; padding-bottom: 0.5em;">
              YOUR COMPANY IS ALL THAT MATTERS,
            </div>
            <div class="line" style="font-family: myFirstFont; font-size: 1em; padding-bottom: 2em;">
              BUT FOR THOSE WHO WISH
            </div>
      
      
  
            <center>
              <span style="font-family: MonsieurLaDoulaise; font-size: 2.2em;">Whish</span>

              <div class="line" style="font-family: myFirstFont; font-size: 1em; padding-bottom: 0.5em;"><strong>Name:</strong></div>
              <div class="line" style="font-family: myFirstFont; font-size: 1.2em; padding-bottom: 1em;">Maria &amp; Elias</div>
            

              <div class="line" style="font-family: myFirstFont; font-size: 1em; padding-bottom: 0.5em;"><strong>Account No:</strong></div>
              <div class="line" style="font-family: myFirstFont; font-size: 1.2em; padding-bottom: 1em;">21014645</div>
              
              <div style="padding-top: 0.8em;">
                <span style="font-family: MonsieurLaDoulaise; font-size: 2.2em;">Byblos Bank</span>
              </div>

              <div class="line" style="font-family: myFirstFont; font-size: 1em; padding-bottom: 0.5em;"><strong>Name:</strong></div>
              <div class="line" style="font-family: myFirstFont; font-size: 1.2em; padding-bottom: 1em;">Maria Dina</div>


              <div class="line" style="font-family: myFirstFont; font-size: 1em; padding-bottom: 0.5em;"><strong>IBAN:</strong></div>
              <div class="line" style="font-family: myFirstFont; font-size: 1.2em; padding-bottom: 1em;">LB51003900000002200882907002</div>

            </center>


              
      
          </div>
        </div>
      
        <div class="footer">
          <p style="font-family:myFirstFont">Swipe Left</p>
          <div class="arrow">←</div>
          <div class="dots">
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot active"></span>
            <span class="dot"></span>
          </div>
        </div>
      </section>
      
      <section class="page" id="page5">
        <div class="content overlay-text">
          <div class="text-container">
            
            <!-- Title -->
            <div class="line" style="font-family: MonsieurLaDoulaise; font-size: 2.8em; padding-bottom: 1em;">
              Be Our Guest
            </div>
      
            <div class="line" style="font-family: myFirstFont; font-size: 1.2em; padding-bottom: 2em;">
              KINDLY RSVP BY JULY 15<sup>th</sup> </div>
      
            <!-- RSVP options -->
            <form id="rsvp-form" method="POST" action="{{ url_for('rsvp', guest_id=guest_id, guest_name=guest_name) }}" onsubmit="return handleSubmit()" style="font-family: myFirstFont; font-size: 1.1em;">
              <label>
                <input type="radio" name="will_attend" value="yes" onclick="showGuestOptions()"> Will Attend
              </label><br><br>

              <div id="guestOptions" style="display: none; margin-bottom: 2em; align-items: center; justify-content: center">
                <div class="radio-group" id="guestRadioGroup" style="display: flex; gap: 1.5em;"></div>
              </div>

              <label>
                <input type="radio" name="will_attend" value="no" onclick="hideGuestOptions()"> Cannot Attend
              </label><br><br>

              <!-- ✅ Add the hidden input here -->
              <input type="hidden" name="guest_count" id="guestHiddenInput">

              <button type="submit" style="font-family: myFirstFont; font-size: 1.1rem;" class="location-button">Confirm</button>
            </form>
          </div>
        </div>
      
        <div class="footer">
          <div class="dots">
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot active"></span>
          </div>
        </div>
      </section>
      

  </div>

  <script src="{{ url_for('static', filename='script.js') }}"></script>
  <script>
  const maxGuests = {{ number }};
  const guestRadioGroup = document.getElementById('guestRadioGroup');

  function showGuestOptions() {
    const guestOptionsDiv = document.getElementById('guestOptions');
    guestRadioGroup.innerHTML = ''; // Clear previous radios

    if (maxGuests === 1) {
      guestOptionsDiv.style.display = 'none';
      setGuestHiddenValue(1);
      return;
    }

    guestOptionsDiv.style.display = 'flex'; // Show options

    if (!document.getElementById('guests-label')) {
      const labelSpan = document.createElement('span');
      labelSpan.textContent = 'with:';
      labelSpan.id = 'guests-label';
      labelSpan.style.marginRight = '1em';
      guestRadioGroup.parentNode.insertBefore(labelSpan, guestRadioGroup);
    }

    for (let i = 0; i < maxGuests; i++) {
      const label = document.createElement('label');
      label.style.display = 'flex';
      label.style.alignItems = 'center';
      label.innerHTML = `<input type="radio" name="guests" value="${i+1}"> ${i}`;
      guestRadioGroup.appendChild(label);
    }

    const notAttending = document.querySelector('input[name="will_attend"][value="no"]');
    if (notAttending && notAttending.checked) {
      notAttending.checked = false;
    }

    setGuestHiddenValue('');
    document.querySelectorAll('input[name="guests"]').forEach(radio => {
      radio.addEventListener('change', (e) => {
        setGuestHiddenValue(e.target.value);  // Send value directly (0–maxGuests-1)
      });
    });
  }

  function hideGuestOptions() {
    document.getElementById('guestOptions').style.display = 'none';
    setGuestHiddenValue("Not attending");
  }

  function setGuestHiddenValue(value) {
    document.getElementById('guestHiddenInput').value = value;
  }

  function handleSubmit() {
    const attending = document.querySelector('input[name="will_attend"]:checked');
    if (!attending) {
      alert("Please select whether you're attending.");
      return false;
    }

    if (attending.value === "yes") {
      if (maxGuests === 1) {
        setGuestHiddenValue(1);
      } else {
        const selected = document.querySelector('input[name="guests"]:checked');
        if (!selected) {
          alert("Please select how many guests (including you).");
          return false;
        }
      }
    } else {
      setGuestHiddenValue("Not attending");
    }

    return true;
  }
</script>


</body>
</html>
